<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>移动端适配</title>
  <meta name="description" content="目前为止出现的一些关于移动端适配的技术方案：">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="移动端适配">
  <meta name="twitter:description" content="目前为止出现的一些关于移动端适配的技术方案：">
  
  <meta property="og:type" content="article">
  <meta property="og:title" content="移动端适配">
  <meta property="og:description" content="目前为止出现的一些关于移动端适配的技术方案：">
  
  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">
  
  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://localhost:4000/2015/08/mobile-adapt/">
  <link rel="alternate" type="application/rss+xml" title="fanyer" href="http://localhost:4000/feed.xml">
  
  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />
  
</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 fanyer 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="fanyer logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for fanyer" class="blog-button">fanyer</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">Code, Design, and Things in Between</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description"></p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">Just Help Yourself</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="Visit blog" class="blog-button">Blog</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
  <!-- Weibo -->
  <li class="navigation__item">
    <a href="http://weibo.com/sysu_fanyer" title="@sysu_fanyer 的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li>
  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/fanyer" title="@fanyer 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  
  
  

  

  <!-- RSS -->
  <li class="navigation__item">
    <a href="/feed.xml" rel="author" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:iofanyer@gmail.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-red"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2015-08-12 22:15:52 +0800" itemprop="datePublished" class="post-meta__date date">2015-08-12</time> &#8226; <span class="post-meta__tags tags"></span>
    </div>
    <h1 class="post-title">移动端适配</h1>
  </header>

  <section class="post">
    <p>目前为止出现的一些关于移动端适配的技术方案：</p>

<ul>
  <li>通过媒体查询的方式即CSS3的<code class="highlighter-rouge">meida queries</code></li>
  <li>以天猫首页为代表的 <code class="highlighter-rouge">flex</code> 弹性布局</li>
  <li>以淘宝首页为代表的 <code class="highlighter-rouge">rem</code> + <code class="highlighter-rouge">viewport缩放</code></li>
  <li>rem 方式</li>
</ul>

<h3 id="1-meida-queries">1. Meida Queries</h3>

<p>meida queries 的方式可以说是我早期采用的布局方式，它主要是通过查询设备的宽度来执行不同的 css 代码，最终达到界面的配置。核心语法是：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>@media screen and (max-width: 600px) { /*当屏幕尺寸小于600px时，应用下面的CSS样式*/
  /*你的css代码*/
}
</code></pre>
</div>
<h4 id="优点">优点</h4>

<ul>
  <li><code class="highlighter-rouge">media query</code>可以做到设备像素比的判断，方法简单，成本低，特别是对移动和PC维护同一套代码的时候。目前像Bootstrap等框架使用这种方式布局</li>
  <li>图片便于修改，只需修改css文件</li>
  <li>调整屏幕宽度的时候不用刷新页面即可响应式展示</li>
</ul>

<h4 id="缺点">缺点</h4>

<ul>
  <li>代码量比较大，维护不方便</li>
  <li>为了兼顾大屏幕或高清设备，会造成其他设备资源浪费，特别是加载图片资源</li>
  <li>为了兼顾移动端和PC端各自响应式的展示效果，难免会损失各自特有的交互方式</li>
</ul>

<h3 id="2-flex-弹性布局">2. Flex 弹性布局</h3>

<p>以天猫的实现方式进行说明：</p>

<p>它的<code class="highlighter-rouge">viewport</code>是固定的：</p>
<div class="highlighter-rouge"><pre class="highlight"><code>&lt;meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"&gt;
</code></pre>
</div>

<p>高度定死，宽度自适应，元素都采用px做单位。</p>

<p>随着屏幕宽度变化，页面也会跟着变化，效果就和PC页面的流体布局差不多，在哪个宽度需要调整的时候使用响应式布局调调就行（比如网易新闻），这样就实现了『适配』</p>

<h3 id="3-rem--viewport缩放">3. <code class="highlighter-rouge">rem</code> + <code class="highlighter-rouge">viewport缩放</code></h3>

<p>这也是淘宝使用的方案，根据屏幕宽度设定 <code class="highlighter-rouge">rem</code> 值，需要适配的元素都使用 <code class="highlighter-rouge">rem</code> 为单位，不需要适配的元素还是使用 <code class="highlighter-rouge">px</code> 为单位。</p>

<h4 id="实现原理">实现原理</h4>

<p>根据 <code class="highlighter-rouge">rem</code> 将页面放大 <code class="highlighter-rouge">dpr</code> 倍, 然后 <code class="highlighter-rouge">viewport</code> 设置为<code class="highlighter-rouge"> 1/dpr</code>.</p>

<p>如iphone6 plus的 <code class="highlighter-rouge">dpr</code> 为3, 则页面整体放大3倍, 1px(css单位)在plus下默认为3px(物理像素)
然后 <code class="highlighter-rouge">viewport</code> 设置为1/3, 这样页面整体缩回原始大小. 从而实现高清。</p>

  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">最近的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2015/09/wireshark/" title="link to wireshark filter手记">wireshark filter手记</a></h2>
       <p class="excerpt">ref1ref2display filterexplanation  A capture filter is used to select which packets should be saved to disk while capturing. For capture filters wireshark uses the BPF syntax. BPF is module that runs in the kernel and can therefor maintain high ra...&hellip;</p>
       <div class="post-list__meta"><time datetime="2015-09-03 16:23:52 +0800" class="post-list__meta--date date">2015-09-03</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2015/09/wireshark/>继续阅读</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2014/11/js-Array-unique/" title="link to array unique">array unique</a></h2>
       <p class="excerpt">数组去重的算法有很多，主要分类三类：      直接去重：时间复杂度 O(n²)　　这个方法没啥好介绍的，就是遍历到元素时候再遍历检测是否是重复，由于有两层嵌套的遍历，所以它的性能不高，不过它对数据本身的影响是最小的。        排序去重 ：时间复杂度 O(nlogn)　　先对数组做一次排序，然后遍历数组时相同元素都在邻近的位置，一次遍历就可以搞定。但是需要考虑一个问题，对象是可能无法比较大小的。这个算法那也许在C++之类的语言中可以很容易使用，但由于JavaScript无法直接取到对...&hellip;</p>
       <div class="post-list__meta"><time datetime="2014-11-02 13:48:52 +0800" class="post-list__meta--date date">2014-11-02</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2014/11/js-Array-unique/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "http://localhost:4000/2015/08/mobile-adapt/";
        this.page.identifier = "/2015/08/mobile-adapt/";
    };

    var disqus_shortname = 'fanyer';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2017-06-21 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2017</span>
    </footer>
</section>

        </div>
    </div>
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/main.js"></script>



    
  </body>

</html>
